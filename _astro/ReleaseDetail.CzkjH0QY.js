import{o as xe,N as _e,i as x,F as we,s as ye,b as ke}from"./Footer.uysjqDA6.js";import{l as $e,f as u,a as s,g as Re,h as Pe,j as k,b as I,s as o,c as n,i as t,r as l,u as U,d as O,e as m,t as L,k as M}from"./snippet.DAV2K58k.js";import{M as Ue,h as Le}from"./index.Z7aoFuSQ.js";import{I as Q}from"./Introduction.DIPUZYz7.js";import{B as De,a as Y,b as A}from"./BentoCard.BKdmkTMr.js";/* empty css                        *//* empty css                              */import"./scrollReveal.BIX1P6ww.js";/* empty css                              */var He=u('<div class="flex justify-center py-20 text-gray-300">Loading release details...</div>'),je=u('<div class="rounded-3xl border border-red-500/40 bg-red-500/10 p-6 text-red-200"> </div>'),Ne=u('<div class="rounded-3xl border border-gray-700 bg-gray-800/60 p-5"><p class="font-sans text-sm uppercase tracking-widest text-sky-400">Deep dive</p> <a class="font-sans text-xl font-semibold text-sky-300 hover:text-sky-200" target="_blank" rel="noopener noreferrer">Read the blog post â†’</a></div>'),Be=u('<h2 class="font-sans text-3xl font-bold text-white">Release overview</h2> <div class="mt-6 space-y-4 text-gray-300"><div class="rounded-3xl border border-gray-700 bg-gray-800/60 p-5"><p class="font-sans text-sm uppercase tracking-widest text-sky-400">Tag</p> <p class="font-sans text-xl font-semibold text-white"> </p></div> <div class="rounded-3xl border border-gray-700 bg-gray-800/60 p-5"><p class="font-sans text-sm uppercase tracking-widest text-sky-400">Published</p> <p class="font-sans text-xl font-semibold text-white"> </p></div> <!></div>',1),Ge=u('<h2 class="font-sans text-3xl font-bold text-white">Release notes</h2> <div class="release-notes mt-6 space-y-4 text-gray-300 leading-relaxed"><!></div>',1),Se=u("<!> <!>",1),ze=u(`<p class="text-sm text-gray-400">No executable asset named "atlas" was found
                                    for this release.</p>`),Ce=u(`<h2 class="font-sans text-3xl font-bold text-white">Get the build</h2> <p class="font-sans text-gray-300">Download the executable or keep exploring the
                                full release discussion on GitHub.</p> <div class="flex flex-col gap-4 sm:flex-row"><button class="relative rounded-2xl border border-blue-500 bg-blue-600 px-6 py-2 font-sans text-white shadow-lg transition hover:bg-blue-700">Go to release</button> <button>Download</button></div> <!>`,1),Ee=u("<!> <!>",1),Ie=u('<div><!> <!> <div class="w-full px-6 text-white sm:px-8"><div class="mx-auto flex w-full max-w-[1200px] flex-col gap-12"><!></div></div> <!></div>');function Oe(Z,D){Pe(D,!0);let F=I(!0),_=I(null),a=I(null);const ee=new Ue({html:!0,linkify:!0,breaks:!0}),te=()=>{t(a)&&window.open(t(a).github.html_url,"_blank")},ae=()=>{t(a)?.downloadUrl&&window.open(t(a).downloadUrl,"_blank")},re=(e,r)=>e?.imageURL&&e.imageURL.trim()!==""?e.imageURL:r.toLowerCase().startsWith("prealpha")?"/images/sponza.png":"/images/landing.png",J=e=>{if(!e)return"Release date pending";const r=new Date(e);return Number.isNaN(r.getTime())?"Release date pending":`Released on ${r.toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})}`},oe=e=>{if(!e)return null;const r=e.find(d=>d.name.toLowerCase()==="atlas");if(r)return r.browser_download_url;const i=e.find(d=>d.name.toLowerCase().includes("atlas"));return i?i.browser_download_url:null};xe(async()=>{try{const e=await fetch("/releases.json");if(!e.ok)throw new Error("Unable to load releases configuration.");const i=(await e.json()).releases?.[D.releaseKey];if(!i)throw new Error("Release not found.");const d=await fetch(i.url,{headers:{Accept:"application/vnd.github+json","X-GitHub-Api-Version":"2022-11-28"}});if(!d.ok)throw new Error("Unable to retrieve GitHub release information.");const w=await d.json(),c=oe(w.assets),v=ee.render(w.body??"");k(a,{config:i,github:w,downloadUrl:c,notesHtml:v},!0),k(_,null)}catch(e){console.error(e),k(_,e instanceof Error?e.message:"Something went wrong while loading this release.",!0),k(a,null)}finally{k(F,!1)}});var H=Ie(),K=n(H);_e(K,{});var T=o(K,2);{var se=e=>{{let r=U(()=>t(a).github.name||t(a).config.name),i=U(()=>J(t(a).github.published_at)),d=U(()=>re(t(a).config,D.releaseKey));Q(e,{get name(){return t(r)},get description(){return t(i)},get imageSrc(){return t(d)}})}},ne=e=>{{let r=U(()=>t(_)??"We could not load this release.");Q(e,{name:"Release unavailable",get description(){return t(r)},imageSrc:"/images/sponza2.png"})}};x(T,e=>{t(a)?e(se):e(ne,!1)})}var j=o(T,2),W=n(j),le=n(W);{var ie=e=>{var r=He();s(e,r)},de=e=>{var r=O(),i=m(r);{var d=c=>{var v=je(),N=n(v,!0);l(v),L(()=>M(N,t(_))),s(c,v)},w=c=>{var v=O(),N=m(v);{var ce=B=>{De(B,{spacing:"3rem",children:(ve,Me)=>{var V=Ee(),X=m(V);Y(X,{children:(G,ge)=>{var $=Se(),S=m($);A(S,{autoHeight:!0,reveal:{x:-80,y:0},children:(g,P)=>{var f=Be(),p=o(m(f),2),b=n(p),h=o(n(b),2),z=n(h,!0);l(h),l(b);var C=o(b,2),q=o(n(C),2),pe=n(q,!0);l(q),l(C);var be=o(C,2);{var me=y=>{var E=Ne(),he=o(n(E),2);l(E),L(()=>ye(he,"href",t(a).config.blogPost)),s(y,E)};x(be,y=>{t(a).config.blogPost&&t(a).config.blogPost!==""&&y(me)})}l(p),L(y=>{M(z,t(a).config.tag),M(pe,y)},[()=>J(t(a).github.published_at).replace("Released on ","")]),s(g,f)},$$slots:{default:!0}});var R=o(S,2);A(R,{autoHeight:!0,reveal:{x:80,y:0},children:(g,P)=>{var f=Ge(),p=o(m(f),2),b=n(p);Le(b,()=>t(a).notesHtml),l(p),s(g,f)},$$slots:{default:!0}}),s(G,$)},$$slots:{default:!0}});var fe=o(X,2);Y(fe,{children:(G,ge)=>{A(G,{autoHeight:!0,class:"flex flex-col gap-6 from-gray-800 to-gray-900 bg-linear-to-b border border-gray-700 rounded-4xl shadow-md p-6 overflow-hidden mb-10",reveal:{x:0,y:60},children:($,S)=>{var R=Ce(),g=o(m(R),4),P=n(g);P.__click=te;var f=o(P,2);f.__click=ae,l(g);var p=o(g,2);{var b=h=>{var z=ze();s(h,z)};x(p,h=>{t(a).downloadUrl||h(b)})}L(()=>ke(f,1,`relative rounded-2xl border border-cyan-500 bg-cyan-600 px-6 py-2 font-sans text-white shadow-lg transition ${t(a)?.downloadUrl?"hover:bg-cyan-500":"opacity-50 cursor-not-allowed"}`)),s($,R)},$$slots:{default:!0}})},$$slots:{default:!0}}),s(ve,V)},$$slots:{default:!0}})};x(N,B=>{t(a)&&B(ce)},!0)}s(c,v)};x(i,c=>{t(_)?c(d):c(w,!1)},!0)}s(e,r)};x(le,e=>{t(F)?e(ie):e(de,!1)})}l(W),l(j);var ue=o(j,2);we(ue),l(H),s(Z,H),Re()}$e(["click"]);export{Oe as default};
